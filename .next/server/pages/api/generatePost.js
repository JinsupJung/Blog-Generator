"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generatePost";
exports.ids = ["pages/api/generatePost"];
exports.modules = {

/***/ "@auth0/nextjs-auth0":
/*!**************************************!*\
  !*** external "@auth0/nextjs-auth0" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("@auth0/nextjs-auth0");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("openai");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst uri = process.env.MONGODB_URI;\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri);\n        global._mongoClientPromise = client.connect();\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFFdEMsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRTtJQUM1QixNQUFNLElBQUlDLE1BQU0sdURBQXVEO0FBQ3pFLENBQUM7QUFFRCxNQUFNQyxNQUFNSixRQUFRQyxHQUFHLENBQUNDLFdBQVc7QUFFbkMsSUFBSUc7QUFDSixJQUFJQztBQUVKLElBQUlOLElBQXlCLEVBQWU7SUFDMUMsK0RBQStEO0lBQy9ELDZFQUE2RTtJQUM3RSxJQUFJLENBQUNPLE9BQU9DLG1CQUFtQixFQUFFO1FBQy9CSCxTQUFTLElBQUlOLGdEQUFXQSxDQUFDSztRQUN6QkcsT0FBT0MsbUJBQW1CLEdBQUdILE9BQU9JLE9BQU87SUFDN0MsQ0FBQztJQUNESCxnQkFBZ0JDLE9BQU9DLG1CQUFtQjtBQUM1QyxPQUFPLEVBSU47QUFFRCxpRUFBaUU7QUFDakUsOERBQThEO0FBQzlELGlFQUFlRixhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW9wZW5haS1zdGFydGVyLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcignSW52YWxpZC9NaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlOiBcIk1PTkdPREJfVVJJXCInKTtcbn1cblxuY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XG5cbmxldCBjbGllbnQ7XG5sZXQgY2xpZW50UHJvbWlzZTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIC8vIEluIGRldmVsb3BtZW50IG1vZGUsIHVzZSBhIGdsb2JhbCB2YXJpYWJsZSBzbyB0aGF0IHRoZSB2YWx1ZVxuICAvLyBpcyBwcmVzZXJ2ZWQgYWNyb3NzIG1vZHVsZSByZWxvYWRzIGNhdXNlZCBieSBITVIgKEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQpLlxuICBpZiAoIWdsb2JhbC5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7XG4gICAgZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpO1xuICB9XG4gIGNsaWVudFByb21pc2UgPSBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZTtcbn0gZWxzZSB7XG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmkpO1xuICBjbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKTtcbn1cblxuLy8gRXhwb3J0IGEgbW9kdWxlLXNjb3BlZCBNb25nb0NsaWVudCBwcm9taXNlLiBCeSBkb2luZyB0aGlzIGluIGFcbi8vIHNlcGFyYXRlIG1vZHVsZSwgdGhlIGNsaWVudCBjYW4gYmUgc2hhcmVkIGFjcm9zcyBmdW5jdGlvbnMuXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlO1xuIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiRXJyb3IiLCJ1cmkiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./pages/api/generatePost.js":
/*!***********************************!*\
  !*** ./pages/api/generatePost.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth0/nextjs-auth0 */ \"@auth0/nextjs-auth0\");\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(openai__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.withApiAuthRequired)(async function handler(req, res) {\n    const { user  } = await (0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.getSession)(req, res);\n    const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n    const db = client.db(\"BlogStandard\");\n    const userProfile = await db.collection(\"users\").findOne({\n        auth0Id: user.sub\n    });\n    if (!userProfile?.availableTokens) {\n        res.status(403);\n        return;\n    }\n    const config = new openai__WEBPACK_IMPORTED_MODULE_1__.Configuration({\n        apiKey: process.env.OPENAI_API_KEY\n    });\n    const openai = new openai__WEBPACK_IMPORTED_MODULE_1__.OpenAIApi(config);\n    const { topic , keywords  } = req.body;\n    if (!topic || !keywords) {\n        res.status(422);\n        return;\n    }\n    if (topic.length > 80 || keywords.length > 80) {\n        res.status(422);\n        return;\n    }\n    /*const response = await openai.createCompletion({\n    model: 'text-davinci-003',\n    temperature: 0,\n    max_tokens: 3600,\n    prompt: `Write a long and detailed SEO-friendly blog post about ${topic}, that targets the following comma-separated keywords: ${keywords}.\n    The content should be formatted in SEO-friendly HTML.\n    The response must also include appropriate HTML title and meta description content.\n    The return format must be stringified JSON in the following format:\n    {\n      \"postContent\": post content here\n      \"title\": title goes here\n      \"metaDescription\": meta description goes here\n    }`,\n  });*/ const postContentResult = await openai.createChatCompletion({\n        model: \"gpt-3.5-turbo\",\n        messages: [\n            {\n                role: \"system\",\n                content: \"You are a blog post generator.\"\n            },\n            {\n                role: \"user\",\n                content: `Write a long and detailed SEO-friendly blog post about ${topic}, that targets the following comma-separated keywords: ${keywords}. \n      The response should be formatted in SEO-friendly HTML, \n      limited to the following HTML tags: p, h1, h2, h3, h4, h5, h6, strong, i, ul, li, ol.`\n            }\n        ],\n        temperature: 0\n    });\n    const postContent = postContentResult.data.choices[0]?.message.content;\n    const titleResult = await openai.createChatCompletion({\n        model: \"gpt-3.5-turbo\",\n        messages: [\n            {\n                role: \"system\",\n                content: \"You are a blog post generator.\"\n            },\n            {\n                role: \"user\",\n                content: `Write a long and detailed SEO-friendly blog post about ${topic}, that targets the following comma-separated keywords: ${keywords}. \n      The response should be formatted in SEO-friendly HTML, \n      limited to the following HTML tags: p, h1, h2, h3, h4, h5, h6, strong, i, ul, li, ol.`\n            },\n            {\n                role: \"assistant\",\n                content: postContent\n            },\n            {\n                role: \"user\",\n                content: \"Generate appropriate title tag text for the above blog post\"\n            }\n        ],\n        temperature: 0\n    });\n    const metaDescriptionResult = await openai.createChatCompletion({\n        model: \"gpt-3.5-turbo\",\n        messages: [\n            {\n                role: \"system\",\n                content: \"You are a blog post generator.\"\n            },\n            {\n                role: \"user\",\n                content: `Write a long and detailed SEO-friendly blog post about ${topic}, that targets the following comma-separated keywords: ${keywords}. \n      The response should be formatted in SEO-friendly HTML, \n      limited to the following HTML tags: p, h1, h2, h3, h4, h5, h6, strong, i, ul, li, ol.`\n            },\n            {\n                role: \"assistant\",\n                content: postContent\n            },\n            {\n                role: \"user\",\n                content: \"Generate SEO-friendly meta description content for the above blog post\"\n            }\n        ],\n        temperature: 0\n    });\n    const title = titleResult.data.choices[0]?.message.content;\n    const metaDescription = metaDescriptionResult.data.choices[0]?.message.content;\n    console.log(\"POST CONTENT: \", postContent);\n    console.log(\"TITLE: \", title);\n    console.log(\"META DESCRIPTION: \", metaDescription);\n    /*await db.collection('users').updateOne(\n  {\n    auth0Id: user.sub,\n  },\n  {\n    $inc: {\n      availableTokens: -1,\n    },\n  }\n);*/ const post = await db.collection(\"posts\").insertOne({\n        postContent: postContent || \"\",\n        title: title || \"\",\n        metaDescription: metaDescription || \"\",\n        topic,\n        keywords,\n        userId: userProfile._id,\n        created: new Date()\n    });\n    res.status(200).json({\n        postId: post.insertedId\n    });\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxDQUFDLFdBQVdIO0lBQ3ZCRSxRQUFRQyxHQUFHLENBQUMsc0JBQXNCRjtJQUVsQzs7Ozs7Ozs7O0VBU0EsR0FFQSxNQUFNRyxPQUFPLE1BQU1uQyxHQUFHRSxVQUFVLENBQUMsU0FBU2tDLFNBQVMsQ0FBQztRQUNsRFgsYUFBYUEsZUFBZTtRQUM1Qk0sT0FBT0EsU0FBUztRQUNoQkMsaUJBQWlCQSxtQkFBbUI7UUFDcENsQjtRQUNBQztRQUNBc0IsUUFBUXBDLFlBQVlxQyxHQUFHO1FBQ3ZCQyxTQUFTLElBQUlDO0lBQ2Y7SUFFQTNDLElBQUlVLE1BQU0sQ0FBQyxLQUFLa0MsSUFBSSxDQUFDO1FBQ25CQyxRQUFRUCxLQUFLUSxVQUFVO0lBQ3pCO0FBQ0YsRUFBRSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW9wZW5haS1zdGFydGVyLy4vcGFnZXMvYXBpL2dlbmVyYXRlUG9zdC5qcz9jMTk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24sIHdpdGhBcGlBdXRoUmVxdWlyZWQgfSBmcm9tICdAYXV0aDAvbmV4dGpzLWF1dGgwJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIE9wZW5BSUFwaSB9IGZyb20gJ29wZW5haSc7XG5pbXBvcnQgY2xpZW50UHJvbWlzZSBmcm9tICcuLi8uLi9saWIvbW9uZ29kYic7XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhBcGlBdXRoUmVxdWlyZWQoYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24ocmVxLCByZXMpO1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlO1xuICBjb25zdCBkYiA9IGNsaWVudC5kYignQmxvZ1N0YW5kYXJkJyk7XG4gIGNvbnN0IHVzZXJQcm9maWxlID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHtcbiAgICBhdXRoMElkOiB1c2VyLnN1YixcbiAgfSk7XG5cbiAgaWYgKCF1c2VyUHJvZmlsZT8uYXZhaWxhYmxlVG9rZW5zKSB7XG4gICAgcmVzLnN0YXR1cyg0MDMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxuICB9KTtcbiAgY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSUFwaShjb25maWcpO1xuXG4gIGNvbnN0IHsgdG9waWMsIGtleXdvcmRzIH0gPSByZXEuYm9keTtcblxuICBpZiAoIXRvcGljIHx8ICFrZXl3b3Jkcykge1xuICAgIHJlcy5zdGF0dXMoNDIyKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodG9waWMubGVuZ3RoID4gODAgfHwga2V5d29yZHMubGVuZ3RoID4gODApIHtcbiAgICByZXMuc3RhdHVzKDQyMik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLypjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jcmVhdGVDb21wbGV0aW9uKHtcbiAgICBtb2RlbDogJ3RleHQtZGF2aW5jaS0wMDMnLFxuICAgIHRlbXBlcmF0dXJlOiAwLFxuICAgIG1heF90b2tlbnM6IDM2MDAsXG4gICAgcHJvbXB0OiBgV3JpdGUgYSBsb25nIGFuZCBkZXRhaWxlZCBTRU8tZnJpZW5kbHkgYmxvZyBwb3N0IGFib3V0ICR7dG9waWN9LCB0aGF0IHRhcmdldHMgdGhlIGZvbGxvd2luZyBjb21tYS1zZXBhcmF0ZWQga2V5d29yZHM6ICR7a2V5d29yZHN9LlxuICAgIFRoZSBjb250ZW50IHNob3VsZCBiZSBmb3JtYXR0ZWQgaW4gU0VPLWZyaWVuZGx5IEhUTUwuXG4gICAgVGhlIHJlc3BvbnNlIG11c3QgYWxzbyBpbmNsdWRlIGFwcHJvcHJpYXRlIEhUTUwgdGl0bGUgYW5kIG1ldGEgZGVzY3JpcHRpb24gY29udGVudC5cbiAgICBUaGUgcmV0dXJuIGZvcm1hdCBtdXN0IGJlIHN0cmluZ2lmaWVkIEpTT04gaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAge1xuICAgICAgXCJwb3N0Q29udGVudFwiOiBwb3N0IGNvbnRlbnQgaGVyZVxuICAgICAgXCJ0aXRsZVwiOiB0aXRsZSBnb2VzIGhlcmVcbiAgICAgIFwibWV0YURlc2NyaXB0aW9uXCI6IG1ldGEgZGVzY3JpcHRpb24gZ29lcyBoZXJlXG4gICAgfWAsXG4gIH0pOyovXG5cbiAgY29uc3QgcG9zdENvbnRlbnRSZXN1bHQgPSBhd2FpdCBvcGVuYWkuY3JlYXRlQ2hhdENvbXBsZXRpb24oe1xuICAgIG1vZGVsOiAnZ3B0LTMuNS10dXJibycsXG4gICAgbWVzc2FnZXM6IFtcbiAgICAgIHtcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGEgYmxvZyBwb3N0IGdlbmVyYXRvci4nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBgV3JpdGUgYSBsb25nIGFuZCBkZXRhaWxlZCBTRU8tZnJpZW5kbHkgYmxvZyBwb3N0IGFib3V0ICR7dG9waWN9LCB0aGF0IHRhcmdldHMgdGhlIGZvbGxvd2luZyBjb21tYS1zZXBhcmF0ZWQga2V5d29yZHM6ICR7a2V5d29yZHN9LiBcbiAgICAgIFRoZSByZXNwb25zZSBzaG91bGQgYmUgZm9ybWF0dGVkIGluIFNFTy1mcmllbmRseSBIVE1MLCBcbiAgICAgIGxpbWl0ZWQgdG8gdGhlIGZvbGxvd2luZyBIVE1MIHRhZ3M6IHAsIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIHN0cm9uZywgaSwgdWwsIGxpLCBvbC5gLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHRlbXBlcmF0dXJlOiAwLFxuICB9KTtcblxuICBjb25zdCBwb3N0Q29udGVudCA9IHBvc3RDb250ZW50UmVzdWx0LmRhdGEuY2hvaWNlc1swXT8ubWVzc2FnZS5jb250ZW50O1xuXG4gIGNvbnN0IHRpdGxlUmVzdWx0ID0gYXdhaXQgb3BlbmFpLmNyZWF0ZUNoYXRDb21wbGV0aW9uKHtcbiAgICBtb2RlbDogJ2dwdC0zLjUtdHVyYm8nLFxuICAgIG1lc3NhZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiAnWW91IGFyZSBhIGJsb2cgcG9zdCBnZW5lcmF0b3IuJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudDogYFdyaXRlIGEgbG9uZyBhbmQgZGV0YWlsZWQgU0VPLWZyaWVuZGx5IGJsb2cgcG9zdCBhYm91dCAke3RvcGljfSwgdGhhdCB0YXJnZXRzIHRoZSBmb2xsb3dpbmcgY29tbWEtc2VwYXJhdGVkIGtleXdvcmRzOiAke2tleXdvcmRzfS4gXG4gICAgICBUaGUgcmVzcG9uc2Ugc2hvdWxkIGJlIGZvcm1hdHRlZCBpbiBTRU8tZnJpZW5kbHkgSFRNTCwgXG4gICAgICBsaW1pdGVkIHRvIHRoZSBmb2xsb3dpbmcgSFRNTCB0YWdzOiBwLCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBzdHJvbmcsIGksIHVsLCBsaSwgb2wuYCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBwb3N0Q29udGVudCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudDogJ0dlbmVyYXRlIGFwcHJvcHJpYXRlIHRpdGxlIHRhZyB0ZXh0IGZvciB0aGUgYWJvdmUgYmxvZyBwb3N0JyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICB0ZW1wZXJhdHVyZTogMCxcbiAgfSk7XG5cbiAgY29uc3QgbWV0YURlc2NyaXB0aW9uUmVzdWx0ID0gYXdhaXQgb3BlbmFpLmNyZWF0ZUNoYXRDb21wbGV0aW9uKHtcbiAgICBtb2RlbDogJ2dwdC0zLjUtdHVyYm8nLFxuICAgIG1lc3NhZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiAnWW91IGFyZSBhIGJsb2cgcG9zdCBnZW5lcmF0b3IuJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudDogYFdyaXRlIGEgbG9uZyBhbmQgZGV0YWlsZWQgU0VPLWZyaWVuZGx5IGJsb2cgcG9zdCBhYm91dCAke3RvcGljfSwgdGhhdCB0YXJnZXRzIHRoZSBmb2xsb3dpbmcgY29tbWEtc2VwYXJhdGVkIGtleXdvcmRzOiAke2tleXdvcmRzfS4gXG4gICAgICBUaGUgcmVzcG9uc2Ugc2hvdWxkIGJlIGZvcm1hdHRlZCBpbiBTRU8tZnJpZW5kbHkgSFRNTCwgXG4gICAgICBsaW1pdGVkIHRvIHRoZSBmb2xsb3dpbmcgSFRNTCB0YWdzOiBwLCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBzdHJvbmcsIGksIHVsLCBsaSwgb2wuYCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBwb3N0Q29udGVudCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudDpcbiAgICAgICAgICAnR2VuZXJhdGUgU0VPLWZyaWVuZGx5IG1ldGEgZGVzY3JpcHRpb24gY29udGVudCBmb3IgdGhlIGFib3ZlIGJsb2cgcG9zdCcsXG4gICAgICB9LFxuICAgIF0sXG4gICAgdGVtcGVyYXR1cmU6IDAsXG4gIH0pO1xuXG4gIGNvbnN0IHRpdGxlID0gdGl0bGVSZXN1bHQuZGF0YS5jaG9pY2VzWzBdPy5tZXNzYWdlLmNvbnRlbnQ7XG4gIGNvbnN0IG1ldGFEZXNjcmlwdGlvbiA9XG4gICAgbWV0YURlc2NyaXB0aW9uUmVzdWx0LmRhdGEuY2hvaWNlc1swXT8ubWVzc2FnZS5jb250ZW50O1xuXG4gIGNvbnNvbGUubG9nKCdQT1NUIENPTlRFTlQ6ICcsIHBvc3RDb250ZW50KTtcbiAgY29uc29sZS5sb2coJ1RJVExFOiAnLCB0aXRsZSk7XG4gIGNvbnNvbGUubG9nKCdNRVRBIERFU0NSSVBUSU9OOiAnLCBtZXRhRGVzY3JpcHRpb24pO1xuXG4gIC8qYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS51cGRhdGVPbmUoXG4gIHtcbiAgICBhdXRoMElkOiB1c2VyLnN1YixcbiAgfSxcbiAge1xuICAgICRpbmM6IHtcbiAgICAgIGF2YWlsYWJsZVRva2VuczogLTEsXG4gICAgfSxcbiAgfVxuKTsqL1xuXG4gIGNvbnN0IHBvc3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdwb3N0cycpLmluc2VydE9uZSh7XG4gICAgcG9zdENvbnRlbnQ6IHBvc3RDb250ZW50IHx8ICcnLFxuICAgIHRpdGxlOiB0aXRsZSB8fCAnJyxcbiAgICBtZXRhRGVzY3JpcHRpb246IG1ldGFEZXNjcmlwdGlvbiB8fCAnJyxcbiAgICB0b3BpYyxcbiAgICBrZXl3b3JkcyxcbiAgICB1c2VySWQ6IHVzZXJQcm9maWxlLl9pZCxcbiAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLFxuICB9KTtcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgcG9zdElkOiBwb3N0Lmluc2VydGVkSWQsXG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZ2V0U2Vzc2lvbiIsIndpdGhBcGlBdXRoUmVxdWlyZWQiLCJDb25maWd1cmF0aW9uIiwiT3BlbkFJQXBpIiwiY2xpZW50UHJvbWlzZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiY2xpZW50IiwiZGIiLCJ1c2VyUHJvZmlsZSIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwiYXV0aDBJZCIsInN1YiIsImF2YWlsYWJsZVRva2VucyIsInN0YXR1cyIsImNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsIm9wZW5haSIsInRvcGljIiwia2V5d29yZHMiLCJib2R5IiwibGVuZ3RoIiwicG9zdENvbnRlbnRSZXN1bHQiLCJjcmVhdGVDaGF0Q29tcGxldGlvbiIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwicG9zdENvbnRlbnQiLCJkYXRhIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJ0aXRsZVJlc3VsdCIsIm1ldGFEZXNjcmlwdGlvblJlc3VsdCIsInRpdGxlIiwibWV0YURlc2NyaXB0aW9uIiwiY29uc29sZSIsImxvZyIsInBvc3QiLCJpbnNlcnRPbmUiLCJ1c2VySWQiLCJfaWQiLCJjcmVhdGVkIiwiRGF0ZSIsImpzb24iLCJwb3N0SWQiLCJpbnNlcnRlZElkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/generatePost.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/generatePost.js"));
module.exports = __webpack_exports__;

})();